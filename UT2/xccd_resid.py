import numpy as np
import UT2.antisym_t4resids as antisym

def xccd_7(ccd_kernel,g,t2_aa,o,v,nocc,nvir,g2=None):
    t=t2_aa.transpose(2,3,0,1)
    v_oo=g[o,o,o,o]
    v_vo=g[o,v,o,v]
    v_vv=g[v,v,v,v]
    v_m2=g[v,v,o,o]


    t_dag=t2_aa
    # contributions to the residual
    roooovvvv = np.zeros((nocc,nocc,nocc,nocc,nvir,nvir,nvir,nvir))
    roooovvvv += 0.023437500 * np.einsum("ijab,klcd,mnef,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,klcd,mnef,egmh,hfng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.023437500 * np.einsum("ijab,klcd,mnef,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,kmcd,lnef,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijab,kmcd,lnef,egmh,hfng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,kmcd,lnef,egnh,hfmg->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,kmcd,lnef,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,kmcd,nefg,fhmn,lgeh->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,kmcd,nefg,fgmh,lhne->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,kmcd,nefg,fhne,lgmh->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijab,kmcd,nefg,fgnh,lhme->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("ijab,mncd,klef,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,mncd,klef,egmh,hfng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("ijab,mncd,klef,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,mncd,kefg,fhmn,lgeh->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijab,mncd,kefg,fhme,lgnh->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,mncd,kefg,fgmh,lhne->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,mncd,kefg,fgeh,lhmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("ijab,mncd,efgh,ghmn,klef->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,mncd,efgh,ghme,klnf->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("ijab,mncd,efgh,ghef,klmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,klce,mndf,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,klce,mndf,fgmh,heng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,klce,mndf,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijab,klce,mnfd,fgmn,edhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,klce,mnfd,efmg,gdnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,klce,mnfd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijab,kmce,lndf,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("ijab,kmce,lndf,fgmh,heng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("ijab,kmce,lndf,fgnh,hemg->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijab,kmce,lndf,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("ijab,kmce,ndfg,ghmn,ledh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,kmce,ndfg,ghnd,lemh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("ijab,kmce,ndfg,egnh,lhmd->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("ijab,kmce,lnfd,fgmn,edhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("ijab,kmce,lnfd,efmg,gdnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijab,kmce,lnfd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("ijab,kmce,lnfd,efng,gdmh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,kmce,lnfd,fdng,gemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("ijab,kmce,ndfg,efmn,lgdh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,kmce,ndfg,fgmn,ledh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,kmce,ndfg,efnd,lgmh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,kmce,ndfg,fgnd,lemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,mnce,kldf,fgmh,heng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,mnce,kdfg,ghmn,ledh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("ijab,mnce,kdfg,ghmd,lenh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijab,mnce,kdfg,egdh,lhmn->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijab,mnce,dfgh,ehmd,klnf->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,mnce,dfgh,ehdf,klmn->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijab,mnce,klfd,fgmn,edhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,mnce,klfd,efmg,gdnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,mnce,klfd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("ijab,mnce,kdfg,efmn,lgdh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijab,mnce,kdfg,fgmn,ledh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("ijab,mnce,kdfg,efmd,lgnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijab,mnce,kdfg,fgmd,lenh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,klef,mncd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,klef,mncd,ecmn,fdgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("ijab,klef,mncd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijab,kmef,lncd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijab,kmef,lncd,ecmn,fdgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,kmef,lncd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijab,mnef,klcd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("ijab,mnef,klcd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("imab,jncd,klef,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,jncd,klef,egnh,hfmg->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("imab,jncd,klef,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jncd,kefg,fhmn,lgeh->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jncd,kefg,fhne,lgmh->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,jncd,kefg,fgnh,lhme->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("imab,jncd,kefg,fgeh,lhmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("imab,jncd,efgh,ghmn,klef->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("imab,jncd,efgh,ghne,klmf->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("imab,jncd,efgh,ghef,klmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,ncde,jkfg,fhmn,lgch->ijklabde",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("imab,ncde,jkfg,fhnc,lgmh->ijklabde",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("imab,ncde,jkfg,fgnh,lhmc->ijklabde",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("imab,ncde,jfgh,ghmn,klcf->ijklabde",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("imab,ncde,jfgh,ghnc,klmf->ijklabde",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("imab,ncde,jfgh,ghnf,klmc->ijklabde",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jkce,lndf,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jkce,lndf,fgmh,heng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jkce,lndf,fgnh,hemg->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jkce,lndf,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jkce,ndfg,ghmn,ledh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jkce,ndfg,egmh,lhnd->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,jkce,ndfg,ghnd,lemh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jkce,ndfg,egnh,lhmd->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jkce,lnfd,fgmn,edhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jkce,lnfd,efmg,gdnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jkce,lnfd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jkce,lnfd,efng,gdmh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,jkce,lnfd,fdng,gemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jkce,ndfg,efmn,lgdh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,jkce,ndfg,fgmn,ledh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,jkce,ndfg,efnd,lgmh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("imab,jkce,ndfg,fgnd,lemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jnce,kldf,fgmh,heng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jnce,kldf,fgnh,hemg->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("imab,jnce,kdfg,ghmn,ledh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -3.000000000 * np.einsum("imab,jnce,kdfg,ghmd,lenh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jnce,kdfg,egmh,lhnd->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("imab,jnce,kdfg,ghnd,lemh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -3.000000000 * np.einsum("imab,jnce,kdfg,egdh,lhmn->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jnce,dfgh,ehmd,klnf->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jnce,dfgh,ehnd,klmf->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jnce,dfgh,ehdf,klmn->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jnce,klfd,fgmn,edhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jnce,klfd,efmg,gdnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jnce,klfd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jnce,klfd,efng,gdmh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,jnce,klfd,fdng,gemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("imab,jnce,kdfg,efmn,lgdh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jnce,kdfg,fgmn,ledh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -3.000000000 * np.einsum("imab,jnce,kdfg,efmd,lgnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,jnce,kdfg,fgmd,lenh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("imab,jnce,kdfg,efnd,lgmh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imab,jnce,kdfg,fgnd,lemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,ncde,jkfg,ghmn,lech->ijklabdf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,ncde,jkfg,ghnc,lemh->ijklabdf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,ncde,jfgh,ehmf,klnc->ijklabdg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imab,ncde,jkfg,efmn,lgch->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,ncde,jkfg,fgmn,lech->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("imab,ncde,jkfg,efnc,lgmh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("imab,ncde,jkfg,fgnc,lemh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jkef,lncd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jkef,lncd,ecmn,fdgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("imab,jkef,lncd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imab,jnef,klcd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("imab,jnef,klcd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("mnab,icde,jkfg,fgch,lhmn->ijklabde",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("mnab,icde,jfgh,ghcf,klmn->ijklabde",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("mnab,cdef,ijgh,ghmc,klnd->ijklabef",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("mnab,cdef,ijgh,ghcd,klmn->ijklabef",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("mnab,ijce,kldf,ghmn,efgh->ijklabcd",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("mnab,ijce,kldf,fgmh,heng->ijklabcd",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("mnab,ijce,kldf,efgh,ghmn->ijklabcd",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("mnab,ijce,kdfg,ghmn,ledh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("mnab,ijce,kdfg,ghmd,lenh->ijklabcf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("mnab,ijce,kdfg,egmh,lhnd->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("mnab,ijce,kdfg,egdh,lhmn->ijklabcf",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("mnab,ijce,dfgh,ehmn,kldf->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("mnab,ijce,dfgh,ehmd,klnf->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("mnab,ijce,dfgh,ehdf,klmn->ijklabcg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("mnab,ijce,klfd,fgmn,edhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("mnab,ijce,klfd,efmg,gdnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("mnab,ijce,klfd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("mnab,ijce,kdfg,efmn,lgdh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("mnab,ijce,kdfg,fgmn,ledh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("mnab,ijce,kdfg,efmd,lgnh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("mnab,ijce,kdfg,fgmd,lenh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("mnab,icde,jkfg,ghmn,lech->ijklabdf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("mnab,icde,jkfg,ghmc,lenh->ijklabdf",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("mnab,icde,jfgh,ehmn,klcf->ijklabdg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("mnab,icde,jfgh,ehmf,klnc->ijklabdg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("mnab,icde,jfgh,ehcf,klmn->ijklabdg",t,t,t,t_dag,v_oo,optimize="optimal")
    roooovvvv += -0.750000000 * np.einsum("mnab,icde,jkfg,efmn,lgch->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("mnab,icde,jkfg,fgmn,lech->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("mnab,icde,jkfg,efmc,lgnh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("mnab,icde,jkfg,fgmc,lenh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("mnab,ijef,klcd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("mnab,ijef,klcd,ecmn,fdgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.046875000 * np.einsum("mnab,ijef,klcd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijae,klbf,mncd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("ijae,klbf,mncd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijae,klbf,mncd,fcmn,edgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("ijae,klbf,mncd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -3.000000000 * np.einsum("ijae,kmbf,lncd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("ijae,kmbf,lncd,fdng,gemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("ijae,kmbf,ncdg,fgmn,lech->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("ijae,kmbf,ncdg,fgnc,lemh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("ijae,kmbf,lncd,fcmn,edgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijae,kmbf,lncd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("ijae,mnbf,klcd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("ijae,mnbf,klcd,fcmn,edgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijae,mnbf,klcd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -3.000000000 * np.einsum("imae,jkbf,lncd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("imae,jkbf,lncd,fdng,gemh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 3.000000000 * np.einsum("imae,jkbf,ncdg,fgmn,lech->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imae,jkbf,ncdg,fgnc,lemh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imae,jkbf,lncd,fcmn,edgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -1.500000000 * np.einsum("imae,jnbf,klcd,dgmn,efhg->ijklabch",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 6.000000000 * np.einsum("imae,jnbf,kcdg,fgmc,lenh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -3.000000000 * np.einsum("imae,jnbf,kcdg,fgnc,lemh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("imae,jnbf,klcd,fcmn,edgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("imae,jnbf,klcd,cdmn,efgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("mnae,ijbf,klcd,fdmg,genh->ijklabch",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += 1.500000000 * np.einsum("mnae,ijbf,kcdg,fgmn,lech->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -3.000000000 * np.einsum("mnae,ijbf,kcdg,fgmc,lenh->ijklabdh",t,t,t,t_dag,v_vo,optimize="optimal")
    roooovvvv += -0.375000000 * np.einsum("mnae,ijbf,klcd,fcmn,edgh->ijklabgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.187500000 * np.einsum("ijef,klab,mncd,bdmn,efgh->ijklacgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.375000000 * np.einsum("ijef,kmab,lncd,bdmn,efgh->ijklacgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += 0.750000000 * np.einsum("imef,jkab,lncd,bdmn,efgh->ijklacgh",t,t,t,t_dag,v_vv,optimize="optimal")
    roooovvvv += -0.093750000 * np.einsum("mnef,ijab,klcd,bdmn,efgh->ijklacgh",t,t,t,t_dag,v_vv,optimize="optimal")


    roooovvvv=antisym.antisym_t4_residual(roooovvvv,nocc,nvir)
    return roooovvvv
